// --------------------------------------------------------------------------
//
// --------------------------------------------------------------------------

unit
  IPAddress;

// --------------------------------------------------------------------------
//
// --------------------------------------------------------------------------

interface

// --------------------------------------------------------------------------
//
// --------------------------------------------------------------------------

type
  TIPAddress = class
    public
      class function Parse(Value: String): Integer;
      class function QueryByName(Name: String): Boolean;
      class function ToString(Value: Integer): String;
  end;

// --------------------------------------------------------------------------
//
// --------------------------------------------------------------------------

implementation

// --------------------------------------------------------------------------
//
// --------------------------------------------------------------------------

uses
  WinSock;

// --------------------------------------------------------------------------
//
// --------------------------------------------------------------------------

class function TIPAddress.Parse(Value: String): Integer;
begin
  Result := WinSock.inet_addr(PAnsiChar(Value));
end;

// --------------------------------------------------------------------------
//
// --------------------------------------------------------------------------

class function TIPAddress.QueryByName(Name: String): Boolean;
begin
  Result := (WinSock.gethostbyname(PAnsiChar(Name)) <> nil);
end;

// --------------------------------------------------------------------------
//
// --------------------------------------------------------------------------

class function TIPAddress.ToString(Value: Integer): String;
var
  WinSockAddr: in_addr;
begin
  WinSockAddr.S_addr := Value; Result := WinSock.inet_ntoa(WinSockAddr);
end;

// --------------------------------------------------------------------------
//
// --------------------------------------------------------------------------

end.